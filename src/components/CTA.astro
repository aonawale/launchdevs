---
// CTA.astro - Strong final call-to-action with signup form (email input + submit button)
---

<section id="signup" class="py-20 bg-gradient-to-br from-blue-600 via-blue-700 to-purple-700 text-white">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="max-w-3xl mx-auto text-center">
      <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 leading-tight">
        Ready to Accelerate Your Career?
      </h2>

      <p class="text-xl sm:text-2xl mb-8 text-blue-100 leading-relaxed">
        Join the pilot cohort and get personalized mentorship at 50% off.
        Limited spots available â€“ secure yours today.
      </p>

      <!-- Signup Form -->
      <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-8 mb-8 border border-white/20">
        <form class="space-y-6" method="POST" action="#" onsubmit="handleSubmit(event)">
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
            <div>
              <label for="firstName" class="block text-left text-sm font-medium text-white mb-2">
                First Name *
              </label>
              <input
                type="text"
                id="firstName"
                name="firstName"
                required
                class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent"
                placeholder="Your first name"
              />
            </div>
            <div>
              <label for="lastName" class="block text-left text-sm font-medium text-white mb-2">
                Last Name *
              </label>
              <input
                type="text"
                id="lastName"
                name="lastName"
                required
                class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent"
                placeholder="Your last name"
              />
            </div>
          </div>

          <div>
            <label for="email" class="block text-left text-sm font-medium text-white mb-2">
              Email Address *
            </label>
            <input
              type="email"
              id="email"
              name="email"
              required
              class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent"
              placeholder="your.email@example.com"
            />
          </div>

          <div>
            <label for="currentRole" class="block text-left text-sm font-medium text-white mb-2">
              Current Role
            </label>
            <select
              id="currentRole"
              name="currentRole"
              class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent"
            >
              <option value="" class="text-gray-900">Select your current role</option>
              <option value="software-engineer" class="text-gray-900">Software Engineer</option>
              <option value="senior-engineer" class="text-gray-900">Senior Software Engineer</option>
              <option value="team-lead" class="text-gray-900">Team Lead</option>
              <option value="product-manager" class="text-gray-900">Product Manager</option>
              <option value="designer" class="text-gray-900">Designer</option>
              <option value="data-scientist" class="text-gray-900">Data Scientist</option>
              <option value="marketing" class="text-gray-900">Marketing Professional</option>
              <option value="other" class="text-gray-900">Other</option>
            </select>
          </div>

          <div>
            <label for="goals" class="block text-left text-sm font-medium text-white mb-2">
              Career Goals (Optional)
            </label>
            <textarea
              id="goals"
              name="goals"
              rows="3"
              class="w-full px-4 py-3 bg-white/20 border border-white/30 rounded-lg text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50 focus:border-transparent resize-none"
              placeholder="What do you want to achieve in your career?"
            ></textarea>
          </div>

          <button
            type="submit"
            class="w-full bg-white text-blue-700 py-4 px-8 rounded-lg text-lg font-bold hover:bg-gray-100 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl"
          >
            ðŸš€ Secure My Spot in Pilot Cohort
          </button>
        </form>

        <!-- Trust Indicators -->
        <div class="mt-6 flex flex-col sm:flex-row items-center justify-center gap-6 text-sm text-blue-100">
          <div class="flex items-center">
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
            </svg>
            Your data is secure
          </div>
          <div class="flex items-center">
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
              <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
            </svg>
            No spam, ever
          </div>
          <div class="flex items-center">
            <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
            </svg>
            30-day guarantee
          </div>
        </div>
      </div>

      <!-- Final Urgency Message -->
      <div class="bg-orange-500 text-white rounded-xl p-6 mb-8">
        <div class="flex items-center justify-center mb-2">
          <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
          </svg>
          <span class="font-bold">Limited Time Offer</span>
        </div>
        <p class="text-sm">
          Pilot cohort pricing ends in <span id="countdown" class="font-bold">7 days</span>.
          Regular price increases to $399/month after launch.
        </p>
      </div>

      <p class="text-blue-100 text-sm">
        Questions? Email us at
        <a href="mailto:hello@careeracelerator.com" class="text-white underline hover:no-underline">
          hello@careeracelerator.com
        </a>
      </p>
    </div>
  </div>

  <script>
    function handleSubmit(event: Event) {
      event.preventDefault();

      const target = event.target as HTMLFormElement;
      if (!target) return;

      // Get form data
      const formData = new FormData(target);
      const data = Object.fromEntries(formData);

      // Simple validation
      if (!data.firstName || !data.lastName || !data.email) {
        alert('Please fill in all required fields.');
        return;
      }

      // Simulate success (replace with actual form handler like Tally/Formspree)
      alert('Thank you for your interest! We\'ll be in touch within 24 hours to schedule your strategy session.');

      // Reset form
      target.reset();

      // You can replace this with actual form submission to your preferred service:
      // For Formspree: action="https://formspree.io/f/YOUR_FORM_ID"
      // For Tally: action="https://tally.so/r/YOUR_FORM_ID"
      console.log('Form data:', data);
    }

    // Simple countdown timer (optional)
    function updateCountdown() {
      const now = new Date().getTime();
      const launchDate = now + (7 * 24 * 60 * 60 * 1000); // 7 days from now
      const distance = launchDate - now;

      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));

      const countdownElement = document.getElementById('countdown');
      if (countdownElement) {
        if (days > 0) {
          countdownElement.textContent = `${days} days`;
        } else if (hours > 0) {
          countdownElement.textContent = `${hours} hours`;
        } else {
          countdownElement.textContent = 'ending soon';
        }
      }
    }

    // Update countdown immediately and then every hour
    updateCountdown();
    setInterval(updateCountdown, 1000 * 60 * 60);
  </script>
</section>
